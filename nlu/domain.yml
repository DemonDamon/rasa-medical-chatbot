version: "3.0"

intents:
  - greet
#      use_entities:  # To ignore some entities or explicitly take only certain entities into account you can use this syntax
#        - name
#        - first_name
#      ignore_entities:
#        - location
#        - age
  - exit
#      use_entities: []  # ignore all entities for certain intents
  - affirm
  - deny
  - disease_diagnosis
  - need_registration
  - need_guidance
  - select_doctor
  - need_drug_recommendation
  - out_of_scope

entities:
  - symptom
  - disease
  - department
  - doctor
  - diagnosis_choice
  - is_press_registration_button
  - is_press_drug_recommendation_button
  - is_did_help

slots:
   symptom:
      type: text
      influence_conversation: false
      mappings:
      - type: from_entity
        entity: symptom

   disease:
      type: text
      influence_conversation: false
      mappings:
      - type: from_entity
        entity: disease

   department:
      type: text
      influence_conversation: false
      mappings:
      - type: from_entity
        entity: department

   doctor:
      type: text
      influence_conversation: false
      mappings:
        - type: from_entity
          entity: doctor

   diagnosis_choice:
     type: text
     influence_conversation: false
     mappings:
       - type: from_entity
         entity: diagnosis_choice

   suggestion_node:
     type: text
     influence_conversation: false
     mappings:
       - type: custom

   suggestions:
     type: text
     influence_conversation: false
     mappings:
       - type: custom

   is_start_diagnosis_query:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

   is_enough:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

   is_break_loop:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

   is_reg_chief_complaint:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

   is_press_registration_button:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

   is_press_drug_recommendation_button:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

   is_did_help:
     type: bool
     influence_conversation: false
     mappings:
       - type: custom

responses:
  utter_greet:
    - text: "ä½ å¥½ï¼Œæˆ‘æ˜¯æ™ºèƒ½å¯¼è¯Šæœºå™¨äººRobinsonğŸ¤–ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ï¼è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åˆ°æ‚¨çš„ï¼Ÿ"
    - text: "ä½ å¥½ï¼Œæˆ‘æ˜¯æ™ºèƒ½å¯¼è¯Šæœºå™¨äººRobinsonğŸ¤–ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ï¼"
    - text: "Helloï¼Œæˆ‘æ˜¯æ™ºèƒ½å¯¼è¯Šæœºå™¨äººRobinsonğŸ¤–ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åˆ°æ‚¨çš„ï¼Ÿ"
    - text: "Hiï¼Œæˆ‘æ˜¯æ™ºèƒ½å¯¼è¯Šæœºå™¨äººRobinsonğŸ¤–ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åˆ°æ‚¨çš„ï¼Ÿ"
    - text: "æˆ‘æ˜¯æ™ºèƒ½å¯¼è¯Šæœºå™¨äººRobinsonğŸ¤–ï¼Œæ‚¨å¯ä»¥ \n
              (1) å‘Šè¯‰æˆ‘ä¸é€‚çš„ç—‡çŠ¶ï¼Œç»è¿‡åˆæ­¥è¯Šæ–­åï¼Œä¸ºæ‚¨æ¨èç§‘å®¤ \n
              (2) å‘Šè¯‰æˆ‘ç–¾ç—…æˆ–ç§‘å®¤ï¼Œç›´æ¥ä¸ºæ‚¨æŒ‚å· \n"

  utter_did_that_help:
    - text: "è¯·é—®æ˜¯å¦æœ‰å¸®åˆ°æ‚¨ï¼Ÿ"
    - text: "è¯·é—®æœ¬æ¬¡å¯¹è¯æœåŠ¡æ˜¯å¦æ»¡æ„ï¼Ÿ"
    - text: "è¯·é—®æœ¬æ¬¡å¯¹è¯æ˜¯å¦å¸®åˆ°æ‚¨ï¼Ÿ"
      buttons:
        - title: "æœ‰"
          payload: '/affirm{"is_did_help": "True"}'
        - title: "æ— "
          payload: '/deny{"is_did_help": "False"}'

  utter_goodbye:
    - text: "æœŸå¾…ä¸‹æ¬¡å†è§ï¼"
    - text: "Byeï¼ŒæœŸå¾…ä¸‹æ¬¡ä¸ºæ‚¨æœåŠ¡ï¼"
    - text: "å¥½çš„ï¼ŒæœŸå¾…ä¸‹æ¬¡ä¸ºæ‚¨æœåŠ¡ï¼"

  utter_thanks_for_suggestions_and_goodbye:
    - text: "æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼ŒæœŸå¾…ä¸‹æ¬¡å†è§ï¼"
    - text: "å·²æ”¶åˆ°è´µç”¨æˆ·åé¦ˆï¼Œæˆ‘ä»¬ä¸€å®šå°½åŠ›æ”¹å–„ï¼ŒæœŸå¾…ä¸‹æ¬¡å†è§ï¼"

  utter_default:
    - text: "ä¸å¥½æ„æ€ï¼Œæˆ‘è¿˜ä¸æ˜ç™½æ‚¨è¯´çš„è¯ã€‚"

  utter_guidance:
    - text: "ä½¿ç”¨æŒ‡å—ï¼š\n
            (1) å¦‚æœç”¨æˆ·æ¸…æ¥šæ‰€æ‚£ç–¾ç—…ï¼Œå¯ä»¥ç›´æ¥å›å¤ç–¾ç—…åæˆ–ç§‘å®¤åè¿›è¡ŒæŒ‚å·\n
            (2) å¦‚æœç”¨æˆ·ä¸æ¸…æ¥šæ‰€æ‚£ç–¾ç—…ï¼Œå¯ä»¥å…ˆå›å¤å½“å‰ä¸é€‚ç—‡çŠ¶ï¼Œç»è¿‡åˆæ­¥è¯Šæ–­åå†æ¨èç›¸å…³çš„ç§‘å®¤è¿›è¡ŒæŒ‚å·\n"

  utter_ask_registration_or_drug_recommendation:
    - text: "è¯·é€‰æ‹©"
      buttons:
        - title: "é¢„çº¦æŒ‚å·"
          payload: '/need_registration{"is_press_registration_button":true}'
        - title: "æ¨èç”¨è¯"
          payload: '/need_drug_recommendation{"is_press_drug_recommendation_button":true}'

  utter_recommend_dep:
    - text: "åˆæ­¥è¯Šæ–­ä¸º{disease}ï¼Œæ¨èæ‚¨æŒ‚å·{department}"
    - text: "ç–¾ç—…åˆæ­¥è¯Šæ–­ä¸º{disease}ï¼Œä¸ºæ‚¨åŒ¹é…{department}"

  utter_ask_check_doctors:
    - text: "è¯·é—®æ˜¯å¦éœ€è¦ä¸ºæ‚¨æä¾›{department}åŒ»ç”Ÿä¿¡æ¯ï¼Ÿ"
    - text: "è¯·é—®æ˜¯å¦éœ€è¦æŸ¥çœ‹{department}å¯é¢„çº¦çš„åŒ»ç”Ÿä¿¡æ¯ï¼Ÿ"

  utter_register_success:
    - text: "å·²æˆåŠŸä¸ºæ‚¨æŒ‚å·ï¼"
    - text: "æŒ‚å·æˆåŠŸï¼"
    - text: "æŒ‚å·å®Œæˆï¼Œè¯·æŸ¥çœ‹è®¢å•ï¼"

  utter_ask_suggestions:
    - text: "è¯·é—®æ‚¨æœ‰ä»€ä¹ˆå»ºè®®å‘¢ï¼Ÿ"
    - text: "è¯·é—®æ‚¨æœ‰ä»€ä¹ˆå®è´µçš„å»ºè®®å—ï¼Ÿ"

  utter_out_of_scope:
    - text: "ä¸å¥½æ„æ€ï¼Œæˆ‘æ— æ³•å¤„ç†è¯¥é—®é¢˜"

#  utter_è¯•è¯•æŒ‰é’®:
#    - text: "è¿™ä¸ªæŒ‰é’®æœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼Œä½ å¯ä»¥è¯•è¯•ï¼š"
#      buttons:
#        - title: "å¸çŒ«"
#          payload: '/çœ‹å›¾ç‰‡{{"look_img":"çŒ«"}}'
#        - title: "ä½ æ˜¯ä¸æ˜¯bot"
#          payload: "/bot_challenge"

actions:
  - utter_greet
  - utter_did_that_help
  - utter_goodbye
  - utter_default
  - utter_recommend_dep
  - utter_guidance
  - utter_register_success
  - utter_ask_check_doctors
  - utter_ask_suggestions
  - utter_thanks_for_suggestions_and_goodbye
  - utter_ask_registration_or_drug_recommendation
  - utter_out_of_scope
  - action_arouse_diagnosis_api
  - action_check_disease_or_dep_slot
  - action_check_doctors_info
  - action_start_up_register_service
  - action_positive_or_negative
  - action_arouse_drug_recommendation_api

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true